/* ===== Robotics Projects â€” v2 layout ===== */

/* Theming knobs (tweak freely) */
:root{
  --nav-offset: 72px;             /* JS will set correct value at runtime */
  --rail-width: 260px;
  --detail-max: 1000px;
  --mask-bg: rgba(0,0,0,.14);

  --proj-title-col: var(--text-col);
  --proj-body-col:  #2e3133;

  --proj-chip-bg:   #f2f6ff;
  --proj-chip-bd:   #dfe7ff;
  --proj-chip-tx:   #2b4fff;
  --proj-rail-bg:   #fafbff;
  --proj-detail-bg: #ffffff;
}

#projects-shell{ position: relative; }

/* ---------- mask (click anywhere outside to close) ---------- */
.projects-mask{
  position: fixed;
  left: 0; right: 0;
  top: var(--nav-offset);
  height: calc(100vh - var(--nav-offset));
  background: var(--mask-bg);
  opacity: 0;
  pointer-events: none;
  transition: opacity .2s ease;
  z-index: 950;
}
.projects-focused .projects-mask{
  opacity: 1;
  pointer-events: auto;
}

/* ---------- left thumbnail rail ---------- */
.projects-rail{
  display: none;
  position: fixed;
  top: var(--nav-offset);
  left: 0;
  width: var(--rail-width);
  height: calc(100vh - var(--nav-offset));
  overflow: auto;
  padding: .6rem .5rem;
  background: var(--proj-rail-bg);
  border-right: 1px solid #eee;
  z-index: 960;
}
.rail-item{ padding: .25rem; cursor: pointer; border-radius: .5rem; }
.rail-item img{ width:100%; height:72px; object-fit:cover; border-radius:.35rem; display:block; }
.rail-item:hover{ background:#eef2ff; }
.rail-item.active{ background:#e3e9ff; }

/* ---------- slide-in detail panel ---------- */
.project-detail{
  position: fixed;
  top: var(--nav-offset);
  right: min(-60vw, -1000px);          /* hidden off-screen */
  width: min(60vw, var(--detail-max)); /* 60% viewport up to 1000px */
  height: calc(100vh - var(--nav-offset));
  background: var(--proj-detail-bg);
  border-left: 1px solid #eee;
  box-shadow: -12px 0 24px rgba(0,0,0,.06);
  transition: right .25s ease;
  z-index: 1000;
  display: flex; flex-direction: column;
}
.projects-focused .project-detail{ right: 0; }

.detail-back{
  position: sticky; top: .75rem; z-index: 2;
  margin: .5rem 14.75rem;
}

/* content area scrolls independently */
.detail-scroll{ overflow:auto; padding: 0 1rem 2rem; }

/* while focused: show rail and shift list */
.projects-focused .projects-rail{ display:block; }
.projects-focused .projects-list{
  margin-left: var(--rail-width);
  transition: margin .25s ease;
}

/* FULL focus: hide listing completely (only rail + detail) */
.projects-focused-full .projects-list{ display:none; }
.projects-focused-full .project-detail{
  width: calc(100vw - var(--rail-width));
  right: 0;
}

/* ---------- Option B: media-left / text-right rows ---------- */
.projects-list{
  display: grid;
  grid-template-columns: 1fr;
  gap: 1.25rem;
}

.proj-row{
  display: grid;
  grid-template-columns: minmax(280px, 42%) 1fr;
  gap: 1rem;
  align-items: start;
  background:#fff;
  border:1px solid #eee;
  border-radius:.5rem;
  overflow:hidden;
  box-shadow:0 6px 16px rgba(0,0,0,.04);
  transition: transform .15s ease, box-shadow .15s ease;
}
.proj-row:hover{ transform: translateY(-2px); box-shadow:0 10px 22px rgba(0,0,0,.08); }

.proj-media{ aspect-ratio:16/9; background:#f6f6f8; }
.proj-media img, .proj-media video{
  width:100%; height:100%; object-fit:cover; display:block;
}

.proj-body{ padding:.875rem 1rem 1rem; }
.proj-title{ margin:0 0 .25rem; font-weight:800; color:var(--proj-title-col); }
.proj-summary{ margin:.25rem 0 .5rem; color:var(--proj-body-col); }

/* tags (chips) */
.proj-tags{ margin-bottom:.5rem; }
.tag-chip{
  display:inline-block;
  margin:0 .375rem .375rem 0;
  padding:.25rem .5rem;
  border-radius:999px;
  background:var(--proj-chip-bg);
  border:1px solid var(--proj-chip-bd);
  color:var(--proj-chip-tx);
  font-size:.8rem; font-weight:600; letter-spacing:.2px;
}

.proj-links .btn{ margin-right:.375rem; margin-bottom:.25rem; }

/* ---------- responsive ---------- */
@media (max-width: 991px){
  .proj-row{ grid-template-columns: 1fr; }
  .projects-focused .projects-rail,
  .projects-focused-full .projects-rail{ display:none; }
  .project-detail{ width:100vw; right:-100vw; }
}

/* quick typography knobs */
.proj-title{ font-size:1.1rem; }
.proj-summary{ font-size:1rem; line-height:1.55; }
